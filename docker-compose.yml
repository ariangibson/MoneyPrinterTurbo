x-common-volumes: &common-volumes
  - ./:/MoneyPrinterTurbo

services:
  webui:
    # Use pre-built image from GHCR (uncomment to use)
    # image: ghcr.io/<owner>/moneyprinterturbo-web:latest
    # Or build locally
    build:
      context: .
      dockerfile: Dockerfile
      args:
        SERVICE_TYPE: web
    container_name: "moneyprinterturbo-webui"
    ports:
      - "8501:8501"
    volumes: *common-volumes
    restart: always
  api:
    # Use pre-built image from GHCR (uncomment to use)
    # image: ghcr.io/<owner>/moneyprinterturbo-api:latest
    # Or build locally
    build:
      context: .
      dockerfile: Dockerfile
      args:
        SERVICE_TYPE: api
    container_name: "moneyprinterturbo-api"
    ports:
      - "8080:8080"
    volumes: *common-volumes
    restart: always